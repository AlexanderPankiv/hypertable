
================
=== CONTENTS ===
================

  * HOW TO BUILD
  * HOW TO RUN REGRESSION TESTS
  * HOW TO BUILD SOURCE CODE DOCUMENTATION TREE (Doxygen)

====================
=== HOW TO BUILD ===
====================

  1. Install CMake (http://www.cmake.org/)

  2. Install Berkeley DB (C++ library)

    Example:

    tar -xzvf ~/Downloads/db-4.7.25.tar.gz 
    cd db-4.7.25/build_unix/
    ../dist/configure --enable-cxx
    make
    sudo make install

  3. Install the following libraries:
    - Boost version 1.34.1 (http://www.boost.org/)
    - log4cpp (http://log4cpp.sourceforge.net/)
    - expat (http://sourceforge.net/projects/expat)

    On some GNU/Linux systems, the following packages need to be installed:
    - readline-devel
    - ncurses-devel

    On Ubuntu:
    - apt-get install git-core
    - apt-get install libboost.*-dev libboost-doc libboost.*1.34.1
    - apt-get install libexpat1 libexpat1-dev
    - apt-get install libreadline5 libreadline5-dev

    HIGHLY RECOMMENDED (but not required):
    - tcmalloc (http://code.google.com/p/google-perftools/)

  4. Checkout the source code.

    mkdir ~/src
    cd ~/src
    git clone git://scm.hypertable.org/pub/repos/hypertable.git

  5. Create an install directory

    mkdir ~/hypertable

  6. Create a build directory

    mkdir -p ~/build/hypertable

  7. Configure the build. 

    cd ~/build/hypertable
    cmake -DCMAKE_INSTALL_PREFIX= -DCMAKE_BUILD_TYPE="Debug" ~/src/hypertable

    Note, one can also use ccmake ~/src/hypertable to change build parameters
    interactively (in a curse based UI.)

  8. Build the software.

    make
    make install DESTDIR=<your_install_dir>

===================================
=== HOW TO RUN REGRESSION TESTS ===
===================================

1. Make sure software is built and installed according to 'HOW TO BUILD'

2. Restart servers and re-create test tables

   **********************************************************************
   *** WARNING: THIS STEP MUST BE PERFORMED PRIOR TO RUNNING THE TEST ***
   **********************************************************************

  VERSION=0.9.0.6

  cd ~/hypertable/$VERSION
  bin/kill-servers.sh
  bin/start-all-servers.sh local

3. Run the regression tests

  cd ~/build/hypertable
  make test

=============================================================
=== HOW TO BUILD SOURCE CODE DOCUMENTATION TREE (Doxygen) ===
=============================================================

1. Install the following libraries:
  - doxygen (http://www.stack.nl/~dimitri/doxygen/)
  - graphviz (http://www.graphviz.org/)

2. If you have doxygen installed on your system, then CMake should detect this and
   add a 'doc' target to the make file.  Building the source code documentation
   tree is just a matter of running the following commands:

   cd ~/build/hypertable
   make doc

The documentation tree will get generated under ~/build/hypertable/doc.  To view
the HTML docs, load the following file into a web browser:

  ~/build/hypertable/doc/html/index.html
